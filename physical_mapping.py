import math
from PIL import Image 
import PIL
import pygame
import time
BLACK =     (0, 0, 0)
DARK_GRAY =     (20, 20, 20)
GRAY =     (50, 50, 50)
WHITE =     (255, 255, 255)
BLUE =      (  0,   0, 255)
GREEN =     (  0, 255,   0)
RED =       (255,   0,   0)
PURPLE =       (255,   0,   255)
TEXTCOLOR = (  0,   0,  0)
SIZE = (width, height) = (1100, 1200)
pixel_map = {57: {137: 117, 139: 116, 101: 149}, 58: {96: 151, 98: 150, 134: 118, 104: 148, 107: 147, 142: 115}, 59: {145: 114, 131: 119}, 60: {147: 113, 109: 146, 93: 152}, 61: {129: 120}, 62: {91: 153, 149: 112, 111: 145}, 63: {127: 121}, 64: {113: 144, 89: 154, 151: 111}, 66: {88: 124, 114: 143, 126: 122}, 67: {152: 110}, 68: {125: 123}, 69: {115: 142, 87: 125}, 70: {153: 109}, 71: {125: 93}, 72: {115: 141, 87: 126}, 73: {153: 108}, 74: {125: 94}, 75: {152: 107, 88: 127, 115: 140}, 77: {89: 128, 114: 139, 126: 95}, 78: {151: 106}, 79: {127: 96}, 80: {112: 138, 90: 129, 149: 105}, 81: {129: 97}, 82: {147: 104, 92: 130, 110: 137}, 83: {131: 98, 108: 136}, 84: {145: 103, 134: 99, 95: 131}, 85: {97: 132, 100: 133, 103: 134, 137: 100, 106: 135, 139: 101, 142: 102}, 90: {192: 55, 194: 54, 197: 53, 43: 212, 46: 211, 49: 210, 82: 179, 84: 178, 87: 177, 153: 88, 156: 87, 159: 86}, 91: {162: 85, 200: 52, 41: 213, 79: 180, 52: 209, 151: 89, 90: 176, 189: 56}, 92: {164: 84, 38: 214, 76: 181, 148: 90, 54: 208, 186: 57}, 93: {202: 51, 92: 175}, 94: {36: 215, 166: 83, 74: 182, 56: 207, 146: 91, 184: 58}, 95: {204: 50, 94: 174}, 96: {34: 216, 168: 82, 144: 92, 72: 183, 182: 59, 58: 206}, 97: {96: 173, 206: 49}, 98: {181: 60, 71: 184}, 99: {169: 81, 59: 205, 33: 186, 143: 62}, 100: {97: 172, 207: 48}, 101: {180: 61, 70: 185}, 102: {32: 187, 98: 171, 170: 80, 142: 63, 208: 47, 60: 204}, 104: {60: 203, 170: 79, 180: 31, 70: 155}, 105: {208: 46, 32: 188, 98: 170, 142: 64}, 107: {33: 189, 70: 156, 170: 78, 143: 65, 180: 32, 60: 202}, 108: {97: 169, 207: 45}, 109: {181: 33, 71: 157}, 110: {144: 66, 169: 77, 34: 190, 59: 201}, 111: {96: 168, 206: 44}, 112: {35: 191, 167: 76, 72: 158, 145: 67, 182: 34, 57: 200}, 113: {204: 43, 94: 167}, 114: {165: 75, 74: 159, 147: 68, 55: 199, 184: 35, 37: 192}, 115: {202: 42, 92: 166}, 116: {163: 74, 200: 41, 76: 160, 40: 193, 53: 198, 150: 69, 186: 36, 90: 165}, 117: {161: 73, 197: 40, 42: 194, 79: 161, 51: 197, 87: 164, 152: 70, 189: 37}, 118: {192: 38, 194: 39, 45: 195, 48: 196, 82: 162, 84: 163, 155: 71, 158: 72}, 122: {101: 335, 137: 365, 139: 364, 211: 25, 27: 241, 29: 240}, 123: {32: 239, 96: 337, 98: 336, 134: 366, 104: 334, 107: 333, 206: 27, 208: 26, 142: 363, 214: 24, 24: 242, 217: 23}, 124: {145: 362, 35: 238, 131: 367, 21: 243}, 125: {37: 237, 203: 28, 109: 332, 147: 361, 219: 22, 93: 338}, 126: {129: 368, 19: 244}, 127: {39: 236, 201: 29, 111: 331, 149: 360, 91: 339, 221: 21}, 128: {17: 245, 127: 369}, 129: {199: 30, 41: 235, 113: 330, 151: 359, 89: 340, 223: 20}, 131: {224: 19, 198: 0, 16: 246, 114: 329, 88: 310, 126: 370}, 132: {152: 358, 42: 234}, 133: {125: 371, 15: 247}, 134: {225: 18, 115: 328, 197: 1, 87: 311}, 135: {153: 357, 43: 233}, 136: {125: 341, 15: 217}, 137: {225: 17, 115: 327, 197: 2, 87: 312}, 138: {153: 356, 43: 232}, 139: {125: 342, 15: 218}, 140: {225: 16, 198: 3, 42: 231, 152: 355, 115: 326, 88: 313}, 142: {224: 15, 199: 4, 16: 219, 114: 325, 89: 314, 126: 343}, 143: {41: 230, 151: 354}, 144: {17: 220, 127: 344}, 145: {39: 229, 200: 5, 112: 324, 149: 353, 90: 315, 222: 14}, 146: {129: 345, 19: 221}, 147: {37: 228, 220: 13, 202: 6, 110: 323, 147: 352, 92: 316}, 148: {218: 12, 131: 346, 108: 322, 21: 222}, 149: {35: 227, 134: 347, 205: 7, 145: 351, 24: 223, 95: 317}, 150: {32: 226, 97: 318, 100: 319, 103: 320, 137: 348, 106: 321, 139: 349, 142: 350, 207: 8, 210: 9, 213: 10, 216: 11, 27: 224, 29: 225}, 155: {192: 427, 194: 426, 197: 425, 43: 274, 46: 273, 49: 272, 82: 303, 84: 302, 87: 301, 153: 398, 156: 397, 159: 396}, 156: {162: 395, 200: 424, 41: 275, 79: 304, 52: 271, 151: 399, 90: 300, 189: 428}, 157: {164: 394, 38: 276, 76: 305, 148: 400, 54: 270, 186: 429}, 158: {202: 423, 92: 299}, 159: {36: 277, 166: 393, 74: 306, 184: 430, 146: 401, 56: 269}, 160: {204: 422, 94: 298}, 161: {34: 278, 72: 307, 144: 402, 168: 392, 182: 431, 58: 268}, 162: {96: 297, 206: 421}, 163: {181: 432, 71: 308}, 164: {33: 248, 59: 267, 169: 391, 143: 372}, 165: {97: 296, 207: 420}, 166: {180: 433, 70: 309}, 167: {32: 249, 98: 295, 170: 390, 142: 373, 208: 419, 60: 266}, 169: {180: 403, 170: 389, 60: 265, 70: 279}, 170: {32: 250, 208: 418, 98: 294, 142: 374}, 172: {33: 251, 70: 280, 170: 388, 143: 375, 180: 404, 60: 264}, 173: {97: 293, 207: 417}, 174: {181: 405, 71: 281}, 175: {144: 376, 169: 387, 34: 252, 59: 263}, 176: {96: 292, 206: 416}, 177: {35: 253, 167: 386, 72: 282, 145: 377, 182: 406, 57: 262}, 178: {204: 415, 94: 291}, 179: {165: 385, 74: 283, 147: 378, 55: 261, 184: 407, 37: 254}, 180: {202: 414, 92: 290}, 181: {163: 384, 40: 255, 76: 284, 200: 413, 53: 260, 150: 379, 90: 289, 186: 408}, 182: {161: 383, 197: 412, 42: 256, 79: 285, 51: 259, 87: 288, 152: 380, 189: 409}, 183: {192: 410, 194: 411, 45: 257, 48: 258, 82: 286, 84: 287, 155: 381, 158: 382}}
pixel_map_unprocessed ={10.375: {6.975: 155, 17.976: 31}, 7.125: {12.475: 93}, 11.632: {8.992: 165, 19.993: 41}, 13.343: {1.503: 247, 12.504: 371}, 13.625: {1.474: 217, 12.475: 341}, 8.458: {10.551: 135}, 15.916: {14.605: 401, 3.604: 277}, 14.044: {15.211: 355, 4.21: 231}, 13.146: {19.81: 0, 8.808: 310}, 11.713: {15.213: 70, 4.212: 194}, 12.713: {14.937: 360, 3.936: 236}, 12.61: {12.91: 368, 1.909: 244}, 6.646: {8.808: 124}, 8.382: {14.492: 103}, 6.706: {15.211: 110}, 15.585: {5.169: 271, 16.17: 395}, 14.882: {3.491: 227, 14.492: 351}, 11.688: {18.89: 37, 7.889: 161}, 13.073: {12.588: 370, 1.587: 246}, 5.812: {13.389: 118}, 17.89: {7.41: 283, 18.411: 407}, 14.845: {21.812: 12, 10.81: 322}, 15.023: {13.946: 349, 2.945: 225}, 7.976: {11.236: 138}, 13.907: {1.503: 218, 12.504: 342}, 13.984: {8.771: 313, 19.773: 3}, 15.475: {4.616: 273, 15.617: 397}, 6.983: {15.268: 109}, 16.733: {20.769: 419, 9.768: 295}, 16.196: {9.599: 297, 20.6: 421}, 14.537: {14.937: 353, 3.936: 229}, 12.48: {20.32: 28, 9.318: 338}, 17.484: {16.885: 387, 5.884: 263}, 12.227: {13.946: 364, 2.945: 240}, 10.999: {14.372: 66, 3.371: 190}, 7.544: {15.211: 107}, 9.896: {3.308: 186, 14.309: 62}, 8.192: {9.218: 130}, 16.671: {3.239: 249, 14.24: 373}, 16.141: {3.432: 278, 14.433: 402}, 17.982: {9.232: 290, 20.233: 414}, 11.39: {7.41: 159, 18.411: 35}, 17.017: {20.769: 418, 9.768: 294}, 17.294: {9.711: 293, 20.712: 417}, 6.11: {12.91: 120}, 10.734: {3.271: 189, 14.272: 65}, 9.881: {16.935: 81, 5.934: 205}, 6.018: {14.732: 113}, 15.592: {4.065: 275, 15.066: 399}, 16.456: {9.711: 296, 20.712: 420}, 14.425: {12.726: 344, 1.725: 220}, 11.175: {18.227: 34, 7.226: 158}, 8.463: {9.712: 132}, 17.675: {18.227: 406, 7.226: 282}, 14.682: {11.042: 323, 22.044: 13}, 18.063: {18.635: 408, 7.634: 284}, 7.407: {12.504: 94}, 12.241: {13.663: 365, 2.662: 241}, 9.696: {9.599: 173, 20.6: 49}, 15.009: {13.663: 348, 2.662: 224}, 15.477: {8.446: 302, 19.447: 426}, 14.813: {13.134: 346, 2.133: 222}, 9.085: {5.169: 209, 16.17: 85}, 5.741: {13.663: 117}, 11.432: {16.543: 75, 5.542: 199}, 12.342: {9.565: 337, 20.567: 27}, 13.704: {19.728: 2, 8.726: 312}, 16.323: {7.088: 308, 18.089: 432}, 14.476: {22.238: 14, 11.236: 324}, 16.593: {18.005: 433, 7.004: 309}, 14.938: {13.389: 347, 2.388: 223}, 14.488: {20.024: 5, 9.022: 315}, 10.718: {16.982: 78, 5.981: 202}, 12.27: {3.225: 239, 14.226: 363}, 13.767: {4.267: 232, 15.268: 356}, 12.252: {21.4: 24, 10.398: 334}, 16.128: {5.808: 268, 16.809: 392}, 11.759: {8.163: 162, 19.164: 38}, 18.095: {16.311: 384, 5.31: 260}, 12.891: {8.932: 340, 19.934: 30}, 5.727: {13.946: 116}, 7.804: {15.099: 106}, 11.773: {8.446: 163, 19.447: 39}, 9.005: {15.335: 88, 4.334: 212}, 9.405: {16.634: 83, 5.633: 207}, 17.554: {9.599: 292, 20.6: 416}, 11.287: {20.438: 43, 9.437: 167}, 10.794: {9.711: 169, 20.712: 45}, 6.921: {8.739: 125}, 6.213: {14.937: 112}, 13.968: {22.483: 16, 11.481: 326}, 6.446: {15.099: 111}, 18.23: {19.727: 412, 8.726: 288}, 15.562: {7.889: 304, 18.89: 428}, 18.269: {15.491: 381, 4.49: 257}, 16.875: {6.975: 279, 17.976: 403}, 10.454: {14.227: 64, 3.226: 188}, 17.942: {3.718: 254, 14.719: 378}, 15.687: {18.635: 429, 7.634: 305}, 10.093: {18.005: 61, 7.004: 185}, 8.975: {4.616: 211, 15.617: 87}, 15.905: {16.634: 393, 5.633: 269}, 12.225: {10.116: 335, 21.118: 25}, 11.482: {9.232: 166, 20.233: 42}, 15.019: {20.992: 9, 9.99: 319}, 18.103: {3.951: 255, 14.952: 379}, 9.416: {14.605: 91, 3.604: 215}, 13.688: {22.525: 17, 11.523: 327}, 5.937: {13.134: 119}, 16.075: {18.227: 431, 7.226: 307}, 9.628: {5.808: 206, 16.809: 82}, 10.438: {17.024: 79, 6.023: 203}, 8.232: {14.732: 104}, 16.381: {5.934: 267, 16.935: 391}, 10.517: {20.769: 46, 9.768: 170}, 17.427: {7.088: 281, 18.089: 405}, 18.208: {5.051: 259, 16.052: 383}, 15.86: {7.41: 306, 18.411: 430}, 9.092: {4.065: 213, 15.066: 89}, 13.206: {15.211: 358, 4.21: 234}, 18.188: {7.889: 285, 18.89: 409}, 10.927: {18.089: 33, 7.088: 157}, 5.842: {9.565: 151}, 6.573: {12.588: 122}, 11.563: {18.635: 36, 7.634: 160}, 18.132: {8.992: 289, 19.993: 413}, 9.823: {18.089: 60, 7.088: 184}, 12.655: {22.135: 21, 11.133: 331}, 12.312: {13.389: 366, 2.388: 242}, 9.23: {3.818: 214, 14.819: 90}, 15.52: {19.727: 425, 8.726: 301}, 8.353: {9.451: 131}, 16.938: {17.024: 389, 6.023: 265}, 11.226: {16.737: 76, 5.736: 200}, 15.618: {8.992: 300, 19.993: 424}, 10.233: {20.769: 47, 9.768: 171}, 12.518: {14.732: 361, 3.731: 237}, 5.971: {10.917: 146}, 6.378: {11.308: 144}, 12.825: {12.726: 369, 1.725: 245}, 9.062: {18.89: 56, 7.889: 180}, 5.752: {10.398: 148}, 17.932: {5.542: 261, 16.543: 385}, 14.98: {3.225: 226, 14.226: 350}, 9.268: {9.232: 175, 20.233: 51}, 8.519: {9.99: 133}, 6.325: {12.726: 121}, 15.963: {20.438: 422, 9.437: 298}, 10.657: {18.005: 32, 7.004: 156}, 8.313: {13.134: 98}, 13.421: {8.739: 311, 19.741: 1}, 15.505: {4.334: 274, 15.335: 398}, 18.273: {8.446: 287, 19.447: 411}, 11.238: {3.522: 191, 14.523: 67}, 6.905: {11.507: 142}, 8.438: {13.389: 99}, 11.442: {14.719: 68, 3.718: 192}, 15.721: {5.417: 270, 16.418: 394}, 14.304: {4.098: 230, 15.099: 354}, 14.963: {20.714: 8, 9.712: 318}, 16.954: {14.227: 374, 3.226: 250}, 14.234: {22.386: 15, 11.384: 325}, 9.956: {9.711: 172, 20.712: 48}, 8.517: {10.273: 134}, 9.463: {20.438: 50, 9.437: 174}, 11.595: {16.311: 74, 5.31: 198}, 7.734: {11.384: 139}, 18.259: {8.163: 286, 19.164: 410}, 15.017: {21.275: 10, 10.273: 320}, 8.977: {8.446: 178, 19.447: 54}, 6.391: {8.932: 154}, 10.984: {16.885: 77, 5.884: 201}, 5.98: {9.318: 152}, 7.468: {11.481: 140}, 8.991: {8.163: 179, 19.164: 55}, 11.708: {5.051: 197, 16.052: 73}, 7.749: {8.871: 128}, 17.218: {16.982: 388, 5.981: 264}, 11.73: {19.727: 40, 8.726: 164}, 12.255: {9.834: 336, 20.836: 26}, 15.768: {9.232: 299, 20.233: 423}, 7.988: {9.022: 129}, 9.002: {15.899: 86, 4.898: 210}, 6.631: {11.434: 143}, 15.491: {8.163: 303, 19.164: 427}, 11.769: {15.491: 71, 4.49: 195}, 10.171: {3.239: 187, 14.24: 63}, 8.345: {10.81: 136}, 12.946: {4.098: 235, 15.099: 359}, 7.204: {8.726: 126}, 16.396: {3.308: 248, 14.309: 372}, 11.767: {15.774: 72, 4.773: 196}, 7.925: {12.726: 96}, 5.77: {14.226: 115}, 15.73: {3.818: 276, 14.819: 400}, 8.509: {13.663: 100}, 11.054: {9.599: 168, 20.6: 44}, 17.787: {20.438: 415, 9.437: 291}, 6.843: {12.504: 123}, 12.878: {22.31: 20, 11.308: 330}, 10.155: {6.007: 204, 17.008: 80}, 5.725: {10.116: 149}, 15.502: {15.899: 396, 4.898: 272}, 9.575: {18.227: 59, 7.226: 183}, 18.267: {15.774: 382, 4.773: 258}, 6.166: {9.104: 153}, 17.738: {3.522: 253, 14.523: 377}, 8.48: {14.226: 102}, 9.641: {3.432: 216, 14.433: 92}, 17.157: {18.005: 404, 7.004: 280}, 9.221: {16.418: 84, 5.417: 208}, 14.853: {20.453: 7, 9.451: 317}, 6.155: {11.133: 145}, 13.483: {4.267: 233, 15.268: 357}, 9.36: {7.41: 182, 18.411: 58}, 14.64: {12.91: 345, 1.909: 221}, 17.234: {3.271: 251, 14.272: 375}, 18.213: {15.213: 380, 4.212: 256}, 17.726: {16.737: 386, 5.736: 262}, 12.335: {10.669: 333, 21.671: 23}, 14.249: {8.871: 314, 19.873: 4}, 7.188: {11.523: 141}, 13.131: {22.436: 19, 11.434: 329}, 8.523: {13.946: 101}, 14.732: {14.732: 352, 3.731: 228}, 5.835: {10.669: 147}, 17.499: {14.372: 376, 3.371: 252}, 9.02: {19.727: 53, 8.726: 177}, 14.692: {9.218: 316, 20.22: 6}, 8.182: {11.042: 137}, 8.14: {12.91: 97}, 7.267: {15.268: 108}, 5.868: {14.492: 114}, 12.666: {20.106: 29, 9.104: 339}, 16.655: {6.007: 266, 17.008: 390}, 13.405: {22.509: 18, 11.507: 328}, 14.177: {12.588: 343, 1.587: 219}, 9.187: {18.635: 57, 7.634: 181}, 12.471: {10.917: 332, 21.919: 22}, 12.368: {3.491: 238, 14.492: 362}, 7.484: {8.771: 127}, 14.958: {10.551: 321, 21.553: 11}, 8.037: {14.937: 105}, 7.677: {12.588: 95}, 11.603: {14.952: 69, 3.951: 193}, 12.437: {13.134: 367, 2.133: 243}, 5.755: {9.834: 150}, 9.118: {8.992: 176, 19.993: 52}}
pmap ={0: [141, 224], 1: [138, 225], 2: [135, 225], 3: [133, 225], 4: [130, 224], 5: [128, 222], 6: [126, 220], 7: [124, 218], 8: [123, 215], 9: [122, 213], 10: [122, 210], 11: [123, 207], 12: [124, 204], 13: [126, 202], 14: [128, 200], 15: [130, 199], 16: [133, 198], 17: [136, 197], 18: [138, 197], 19: [141, 198], 20: [144, 199], 21: [146, 201], 22: [148, 203], 23: [149, 206], 24: [150, 209], 25: [150, 211], 26: [150, 214], 27: [149, 217], 28: [148, 219], 29: [146, 221], 30: [144, 223], 31: [104, 208], 32: [101, 207], 33: [98, 207], 34: [96, 205], 35: [94, 203], 36: [92, 201], 37: [91, 199], 38: [90, 196], 39: [90, 193], 40: [90, 190], 41: [91, 188], 42: [93, 185], 43: [95, 183], 44: [97, 182], 45: [100, 180], 46: [102, 180], 47: [105, 180], 48: [108, 180], 49: [111, 182], 50: [113, 183], 51: [115, 185], 52: [116, 188], 53: [117, 190], 54: [118, 193], 55: [118, 196], 56: [117, 199], 57: [116, 201], 58: [114, 203], 59: [112, 205], 60: [109, 207], 61: [107, 207], 62: [109, 169], 63: [106, 170], 64: [103, 170], 65: [100, 170], 66: [98, 169], 67: [95, 167], 68: [93, 165], 69: [91, 163], 70: [90, 160], 71: [90, 158], 72: [90, 155], 73: [90, 152], 74: [92, 149], 75: [93, 147], 76: [95, 145], 77: [98, 144], 78: [100, 143], 79: [103, 142], 80: [106, 142], 81: [109, 143], 82: [111, 144], 83: [113, 146], 84: [115, 148], 85: [117, 151], 86: [117, 154], 87: [118, 156], 88: [117, 159], 89: [117, 162], 90: [115, 164], 91: [113, 166], 92: [111, 168], 93: [71, 153], 94: [68, 152], 95: [66, 152], 96: [63, 150], 97: [61, 148], 98: [59, 146], 99: [58, 144], 100: [57, 141], 101: [57, 138], 102: [58, 135], 103: [59, 133], 104: [60, 130], 105: [62, 128], 106: [64, 127], 107: [67, 125], 108: [70, 125], 109: [73, 125], 110: [75, 125], 111: [78, 127], 112: [80, 128], 113: [82, 130], 114: [84, 133], 115: [85, 135], 116: [85, 138], 117: [85, 141], 118: [84, 144], 119: [83, 146], 120: [81, 148], 121: [79, 150], 122: [77, 152], 123: [74, 152], 124: [76, 114], 125: [73, 115], 126: [70, 115], 127: [68, 115], 128: [65, 114], 129: [63, 112], 130: [61, 110], 131: [59, 108], 132: [58, 105], 133: [57, 103], 134: [57, 100], 135: [58, 97], 136: [59, 94], 137: [61, 92], 138: [63, 90], 139: [65, 89], 140: [68, 88], 141: [71, 87], 142: [73, 87], 143: [76, 88], 144: [79, 89], 145: [81, 91], 146: [83, 93], 147: [84, 96], 148: [85, 98], 149: [85, 101], 150: [85, 104], 151: [84, 107], 152: [83, 109], 153: [81, 111], 154: [79, 113], 155: [104, 98], 156: [101, 97], 157: [98, 97], 158: [96, 95], 159: [94, 93], 160: [92, 91], 161: [91, 89], 162: [90, 86], 163: [90, 83], 164: [90, 80], 165: [91, 78], 166: [93, 75], 167: [95, 73], 168: [97, 72], 169: [100, 70], 170: [102, 70], 171: [105, 70], 172: [108, 70], 173: [111, 72], 174: [113, 73], 175: [115, 75], 176: [116, 78], 177: [117, 80], 178: [118, 83], 179: [118, 86], 180: [117, 89], 181: [116, 91], 182: [114, 93], 183: [112, 95], 184: [109, 97], 185: [107, 97], 186: [109, 59], 187: [106, 60], 188: [103, 60], 189: [100, 60], 190: [98, 59], 191: [95, 57], 192: [93, 55], 193: [91, 53], 194: [90, 50], 195: [90, 48], 196: [90, 45], 197: [90, 42], 198: [92, 39], 199: [93, 37], 200: [95, 35], 201: [98, 34], 202: [100, 33], 203: [103, 32], 204: [106, 32], 205: [109, 33], 206: [111, 34], 207: [113, 36], 208: [115, 38], 209: [117, 41], 210: [117, 43], 211: [118, 46], 212: [117, 49], 213: [117, 52], 214: [115, 54], 215: [113, 56], 216: [111, 58], 217: [136, 43], 218: [133, 42], 219: [131, 42], 220: [128, 40], 221: [126, 38], 222: [124, 36], 223: [123, 34], 224: [122, 31], 225: [122, 28], 226: [123, 25], 227: [124, 23], 228: [125, 20], 229: [127, 18], 230: [129, 16], 231: [132, 15], 232: [135, 15], 233: [138, 15], 234: [140, 15], 235: [143, 16], 236: [145, 18], 237: [147, 20], 238: [149, 23], 239: [150, 25], 240: [150, 28], 241: [150, 31], 242: [149, 34], 243: [148, 36], 244: [146, 38], 245: [144, 40], 246: [142, 42], 247: [139, 42], 248: [174, 59], 249: [171, 60], 250: [168, 60], 251: [165, 60], 252: [163, 59], 253: [160, 57], 254: [158, 55], 255: [156, 53], 256: [155, 50], 257: [155, 48], 258: [155, 45], 259: [155, 42], 260: [157, 39], 261: [158, 37], 262: [160, 35], 263: [163, 34], 264: [165, 33], 265: [168, 32], 266: [171, 32], 267: [174, 33], 268: [176, 34], 269: [178, 36], 270: [180, 38], 271: [182, 41], 272: [182, 43], 273: [183, 46], 274: [182, 49], 275: [182, 52], 276: [180, 54], 277: [178, 56], 278: [176, 58], 279: [169, 98], 280: [166, 97], 281: [163, 97], 282: [161, 95], 283: [159, 93], 284: [157, 91], 285: [156, 89], 286: [155, 86], 287: [155, 83], 288: [155, 80], 289: [156, 78], 290: [158, 75], 291: [160, 73], 292: [162, 72], 293: [165, 70], 294: [167, 70], 295: [170, 70], 296: [173, 70], 297: [176, 72], 298: [178, 73], 299: [180, 75], 300: [181, 78], 301: [182, 80], 302: [183, 83], 303: [183, 86], 304: [182, 89], 305: [181, 91], 306: [179, 93], 307: [177, 95], 308: [174, 97], 309: [172, 97], 310: [141, 114], 311: [138, 115], 312: [135, 115], 313: [133, 115], 314: [130, 114], 315: [128, 112], 316: [126, 110], 317: [124, 108], 318: [123, 105], 319: [122, 103], 320: [122, 100], 321: [123, 97], 322: [124, 94], 323: [126, 92], 324: [128, 90], 325: [130, 89], 326: [133, 88], 327: [136, 87], 328: [138, 87], 329: [141, 88], 330: [144, 89], 331: [146, 91], 332: [148, 93], 333: [149, 96], 334: [150, 98], 335: [150, 101], 336: [150, 104], 337: [149, 107], 338: [148, 109], 339: [146, 111], 340: [144, 113], 341: [136, 153], 342: [133, 152], 343: [131, 152], 344: [128, 150], 345: [126, 148], 346: [124, 146], 347: [123, 144], 348: [122, 141], 349: [122, 138], 350: [123, 135], 351: [124, 133], 352: [125, 130], 353: [127, 128], 354: [129, 127], 355: [132, 125], 356: [135, 125], 357: [138, 125], 358: [140, 125], 359: [143, 127], 360: [145, 128], 361: [147, 130], 362: [149, 133], 363: [150, 135], 364: [150, 138], 365: [150, 141], 366: [149, 144], 367: [148, 146], 368: [146, 148], 369: [144, 150], 370: [142, 152], 371: [139, 152], 372: [174, 169], 373: [171, 170], 374: [168, 170], 375: [165, 170], 376: [163, 169], 377: [160, 167], 378: [158, 165], 379: [156, 163], 380: [155, 160], 381: [155, 158], 382: [155, 155], 383: [155, 152], 384: [157, 149], 385: [158, 147], 386: [160, 145], 387: [163, 144], 388: [165, 143], 389: [168, 142], 390: [171, 142], 391: [174, 143], 392: [176, 144], 393: [178, 146], 394: [180, 148], 395: [182, 151], 396: [182, 154], 397: [183, 156], 398: [182, 159], 399: [182, 162], 400: [180, 164], 401: [178, 166], 402: [176, 168], 403: [169, 208], 404: [166, 207], 405: [163, 207], 406: [161, 205], 407: [159, 203], 408: [157, 201], 409: [156, 199], 410: [155, 196], 411: [155, 193], 412: [155, 190], 413: [156, 188], 414: [158, 185], 415: [160, 183], 416: [162, 182], 417: [165, 180], 418: [167, 180], 419: [170, 180], 420: [173, 180], 421: [176, 182], 422: [178, 183], 423: [180, 185], 424: [181, 188], 425: [182, 190], 426: [183, 193], 427: [183, 196], 428: [182, 199], 429: [181, 201], 430: [179, 203], 431: [177, 205], 432: [174, 207], 433: [172, 207]}
# i=0
# for x in pixel_map:
#     for y in pixel_map[x]:
#         print(i, pixel_map[x][y], px[x,y])
#         i = i+1

def openGif():
    im = Image.open("rotatingcube.gif")
    px = im.load()
    print(im.n_frames)
    # Iterate through frames and pixels, top row first
    for z in range(im.n_frames):
        # Go to frame
        im.seek(z)
        print("*************************")
        print("Frame: ", im.tell())
        print("*************************")
        rgb_im = im.convert('RGB')
        rgb_im = rgb_im.resize((240,240), PIL.Image.LANCZOS)
        for x in pixel_map:
            for y in pixel_map[x]:
                color = px[x,y]
                drawCircle((x,y), rgb_im.getpixel((x, y)))
        time.sleep(0.01)
        pygame.display.update()

def drawImage():
    im = Image.open("cube.png") 
    px = im.load() 
    for x in pixel_map:
        for y in pixel_map[x]:
            color = px[x,y]
            drawCircle((x,y), px[x,y])

    pygame.display.update()

def drawCircle(position, color):
    pygame.draw.circle(screen, color, position, 1)

def main():
    global screen, height, width
    pygame.init()
    pygame.display.set_caption("CTA")
    
    screen = pygame.display.set_mode(SIZE)    
    ledLocation = 0
    ledArray = {}

    for x in range(1,149):
        pygame.draw.line(screen, DARK_GRAY, (0, (x*10)+5), (1499, (x*10)+5))
        pygame.draw.line(screen, DARK_GRAY, ((x*10)+5, 0), ((x*10)+5, 1499))

    # for x in ledArray:
    #     drawCircle((900,(10*x)+10), getColor(ledArray[x]))
        # print(str(x) + ": (900, "+str((10*x)+10)+"),")
    # define a variable to control the main loop
    running = True

    # main loop
    while running:
        openGif()
        # event handling, gets all event from the event queue
        for event in pygame.event.get():
            # only do something if the event is of type QUIT
            if event.type == pygame.MOUSEBUTTONUP:
                #addNew()
                pygame.display.update()
            # if event.type == pygame.KEYDOWN:
            #     if event.key == pygame.K_r:
            #         rotate()
            #     if event.key == pygame.K_d:
            #         deleteLast()
            #     if event.key == pygame.K_p:
            #         printLocations()
            if event.type == pygame.QUIT:
                # change the value to False, to exit the main loop
                running = False
     

def getMapping():
    pixel_map = {}
    centers = {
        0: [13.625, 2.874],
        1: [10.375, 4.624],
        2: [10.375, 8.375],
        3: [7.125, 10.125],
        4: [7.125, 13.876],
        5: [10.375, 15.625],
        6: [10.375, 19.376],
        7: [13.625, 21.126],
        8: [16.875, 19.376],
        9: [16.875, 15.625],
        10: [13.625, 13.876],
        11: [13.625, 10.125],
        12: [16.875, 8.375],
        13: [16.875, 4.624]
    }
    radius = 1.4
    pmap = {}
    for c in centers:
        for i in range(0, 31):
            offset = 0.5 * math.pi
            if c % 2 == 0:
                offset = (7.0 /18) * math.pi
            xpos = int(10 * round(centers[c][0] + radius * math.cos((2*i*math.pi/31)+offset), 1))
            ypos = int(10 * round(24.0 - centers[c][1] + radius * math.sin((2*i*math.pi/31)+offset), 1))
            pmap[c*31+i] = [xpos, ypos]
            print(c*31+i, round(xpos,3), round(ypos,3))
            try:
                pixel_map[xpos][ypos] = c*31+i
            except KeyError:
                pixel_map[xpos] = {ypos: c*31+i}
    print(pixel_map)
# getMapping()
# run the main function only if this module is executed as the main script
# (if you import this as a module then nothing is executed)
if __name__=="__main__":
    # call the main function
    main()


